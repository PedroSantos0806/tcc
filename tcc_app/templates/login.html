{% extends "base.html" %}
{% block content %}
<div class="login-wrap">
  <div></div>
  <div class="login-card">
    <div class="login-logo">
      <img src="{{ url_for('static', filename='img/prevsuite-logo.svg') }}" alt="PrevSuite">
      <div class="login-title">{{ t('Sign in') }}</div>
    </div>
    <div class="login-sub">{{ t('Login subtitle') }}</div>

    <form method="POST" action="{{ url_for('auth_bp.login') }}" class="form-box" autocomplete="on">
      <label for="email">{{ t('Email') }}</label>
      <input class="input" id="email" name="email" type="email" required autofocus>

      <label for="senha">{{ t('Password') }}</label>
      <div style="display:flex; gap:6px; align-items:center;">
        <input class="input" id="senha" name="senha" type="password" required style="flex:1">
        <button type="button" id="toggleSenha" class="btn-eye" aria-controls="senha" aria-label="Toggle password" aria-pressed="false" style="padding:0 12px;">
          <span class="eye-open">👁️</span><span class="eye-closed" style="display:none;">🙈</span>
        </button>
      </div>

      <div style="display:flex; align-items:center; gap:8px;">
        <input type="checkbox" id="remember" name="remember" value="1">
        <label for="remember">{{ t('Remember me') }}</label>
      </div>

      <button class="btn primary block" type="submit">{{ t('Sign in') }}</button>
    </form>

    <div style="display:flex; justify-content:space-between; margin-top:10px;">
      <a href="{{ url_for('auth_bp.esqueci_senha') }}">{{ t('Forgot password?') }}</a>
      <a href="{{ url_for('auth_bp.cadastro') }}">{{ t('Create free account') }}</a>
    </div>

    {% if erro %}
      <div class="flash" style="margin-top:10px;">
        <div class="flash-item">{{ erro }}</div>
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}
