{% extends "base.html" %}
{% block content %}
<section class="auth-hero">
  <div class="auth-hero-bg">
    <div class="bg-blob bg-blob-1"></div>
    <div class="bg-blob bg-blob-2"></div>
    <div class="bg-grid"></div>
  </div>

  <div class="auth-grid">
    <div class="login-card glass" role="form" aria-labelledby="signinTitle">
      <div class="login-logo">
        <img src="{{ url_for('static', filename='img/prevsuite-logo.svg') }}" alt="PrevSuite" style="height:42px">
        <div class="login-title" id="signinTitle">{{ t('Sign in') }}</div>
      </div>
      <p class="login-sub">{{ t('Login subtitle') }}</p>

      {% if erro %}<div class="alert error">{{ erro }}</div>{% endif %}
      {% with messages = get_flashed_messages() %}
        {% if messages %}
          <div class="alert info">{% for m in messages %}<div>{{ m }}</div>{% endfor %}</div>
        {% endif %}
      {% endwith %}

      <form method="POST" action="{{ url_for('auth_bp.login') }}" class="form-box" autocomplete="on" novalidate>
        <label for="email">{{ t('Email') }}</label>
        <input class="input" id="email" name="email" type="email" required autofocus placeholder="demo@restaurant.com">

        <label for="senha">{{ t('Password') }}</label>
        <div class="password-row">
          <input class="input" id="senha" name="senha" type="password" required placeholder="••••••••">
          <button type="button" class="btn-eye" data-eye aria-controls="senha" aria-label="Mostrar senha">👁️</button>
        </div>

        <label class="checkbox-row" style="display:flex;gap:8px;align-items:center;margin-top:6px;">
          <input type="checkbox" name="remember" value="1" style="width:auto;"> {{ t('Remember me') }}
        </label>

        <button class="btn primary block" type="submit">{{ t('Sign in') }}</button>
      </form>

      <div class="login-links" style="display:flex;justify-content:space-between;margin-top:10px;">
        <a href="{{ url_for('auth_bp.esqueci_senha') }}">{{ t('Forgot password?') }}</a>
        <a href="{{ url_for('auth_bp.cadastro') }}">{{ t('Create free account') }}</a>
      </div>
    </div>

    <div class="auth-copy">
      <h1 class="hero-title">{{ t('Real demand forecasting') }} <span class="grad">Prev Suite</span></h1>
      <p class="hero-sub">{{ t('Trusted line') }}</p>
      <div class="auth-illustration">
        <img src="{{ url_for('static', filename='img/il-previsao.svg') }}" alt="Illustration">
      </div>
    </div>
  </div>
</section>
{% endblock %}
