<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Previsão de Vendas com IA</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <script src="{{ url_for('static', filename='js/main.js') }}" defer></script>
</head>
<body>
  <header class="topbar">
    <div class="brand">Previsão de Vendas com IA</div>

    <nav class="nav nav-folders" role="navigation" aria-label="Menu principal">
      {% if session.get('usuario_id') %}

        <!-- Pasta: Início -->
        <div class="folder" data-folder="inicio">
          <button class="folder-btn" type="button" aria-expanded="false">Início</button>
          <div class="folder-menu" role="menu">
            <a role="menuitem" href="{{ url_for('main_bp.home') }}">Home</a>
            <a role="menuitem" href="{{ url_for('auth_bp.logout') }}">Sair</a>
          </div>
        </div>

        <!-- Pasta: Relatórios -->
        <div class="folder" data-folder="relatorios">
          <button class="folder-btn" type="button" aria-expanded="false">Relatórios</button>
          <div class="folder-menu" role="menu">
            <a role="menuitem" href="{{ url_for('main_bp.dashboard') }}">Dashboard</a>
            <a role="menuitem" href="{{ url_for('restaurant_bp.relatorios') }}">Relatórios (Ingredientes)</a>
          </div>
        </div>

        <!-- Pasta: Estoque -->
        <div class="folder" data-folder="estoque">
          <button class="folder-btn" type="button" aria-expanded="false">Estoque</button>
          <div class="folder-menu" role="menu">
            <a role="menuitem" href="{{ url_for('main_bp.ver_estoque') }}">Estoque por Produto</a>
            <a role="menuitem" href="{{ url_for('restaurant_bp.ingredientes') }}">Estoque (Ingredientes)</a>
            <a role="menuitem" href="{{ url_for('restaurant_bp.lista_compras') }}">Lista de Compras</a>
          </div>
        </div>

        <!-- Pasta: Restaurante -->
        <div class="folder" data-folder="restaurante">
          <button class="folder-btn" type="button" aria-expanded="false">Restaurante</button>
          <div class="folder-menu" role="menu">
            <a role="menuitem" href="{{ url_for('restaurant_bp.menu') }}">Menu</a>
            <a role="menuitem" href="{{ url_for('restaurant_bp.registrar_venda_menu') }}">Registrar Venda (Menu)</a>
            <a role="menuitem" href="{{ url_for('main_bp.cadastrar_produto') }}">Cadastrar Produto</a>
            <a role="menuitem" href="{{ url_for('main_bp.cadastrar_venda') }}">Registrar Venda (Produtos)</a>
          </div>
        </div>

        <!-- Pasta: Previsão -->
        <div class="folder" data-folder="previsao">
          <button class="folder-btn" type="button" aria-expanded="false">Previsão</button>
          <div class="folder-menu" role="menu">
            <a role="menuitem" href="{{ url_for('main_bp.ver_previsao') }}">Ver Previsão</a>
          </div>
        </div>

      {% else %}
        <a href="{{ url_for('auth_bp.login') }}">Login</a>
        <a href="{{ url_for('auth_bp.cadastro') }}">Criar Conta</a>
      {% endif %}
    </nav>
  </header>

  <main class="content">
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="flash">
          {% for message in messages %}<div class="flash-item">{{ message }}</div>{% endfor %}
        </div>
      {% endif %}
    {% endwith %}
    {% block content %}{% endblock %}
  </main>

  <footer>
    <p>&copy; 2025 - Previsão de Demanda com IA</p>
  </footer>
</body>
</html>
